<div class="flex w-full flex-col items-center justify-center">
    <div class="relative inline-block">
        @if (paths().length > 0) {
        <svg width="100%" height="auto" preserveAspectRatio="xMidYMid meet" [attr.viewBox]="`0 0 ${size} ${size}`"
            class="">
            @for (item of paths().slice(1); track $index) {
            <path [attr.d]="item.path" [attr.fill]="item.color" />
            }
            <path [attr.d]="paths()[0].path" [attr.fill]="paths()[0].color"></path>
        </svg>
        <div class="absolute inset-0 flex items-center justify-center">
            <span class="text-2xl font-bold text-white">{{percentageToShow()}}</span>
        </div>
        } @else {
        <div class="text-center py-12 min-h-80">
            <div class="text-gray-400 mb-2">
                <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                    </path>
                </svg>
            </div>
            <p class="text-gray-400">No hay datos de transacciones para mostrar</p>
            <p class="text-sm text-gray-500 mt-1">Las transacciones de los últimos 3 meses aparecerán aquí</p>
        </div>
        }
    </div>

    <div class="mt-4 flex items-center justify-between gap-8">
        @for (item of data(); track item.label) {
        <div class="flex items-start gap-3">
            <span class="mt-2 h-1.5 w-8 rounded-full" [style.backgroundColor]="item.color"></span>
            <div class="flex flex-col items-start">
                <span class="text-xs text-gray-400">{{item.label}}</span>
                <span class="text-lg font-semibold text-white select-none">
                    {{item.value.toFixed(2)}}
                </span>
            </div>
        </div>
        }
    </div>
</div>