<dashboard-layout>
  <!-- Header -->
  <header class="flex items-center justify-between py-6">
    <div class="flex items-center gap-3">
      @let userData = user();
      @if (userData) {
      <user-avatar [user]="userData"></user-avatar>
      <h1 class="text-xl text-white">Hi, {{userData.name}}!</h1>
      }
    </div>
    <div class="flex gap-4">
      <a href="javascript:void(0);" class="rounded-full border border-white/90 p-2 text-white" (click)="signOut()">
        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M5.616 20q-.691 0-1.153-.462T4 18.384V5.616q0-.691.463-1.153T5.616 4h6.403v1H5.616q-.231 0-.424.192T5 5.616v12.769q0 .23.192.423t.423.192h6.404v1zm10.846-4.461l-.702-.72l2.319-2.319H9.192v-1h8.887l-2.32-2.32l.702-.718L20 12z">
          </path>
        </svg>
      </a>
    </div>
  </header>

  @let selectedTab = tab();
  <nav class="mb-8 flex items-center justify-between ">
    <ul class="flex items-center gap-6 text-sm leading-none text-white">
      <li class="font-medium">
        <a href="javascript:void(0);" (click)="changeTab('balance')" [class.opacity-100]="selectedTab === 'balance'"
          [class.opacity-50]="selectedTab !== 'balance'" class="tab transition-opacity">My Balance </a>
      </li>
      <li class="">
        <a href="javascript:void(0);" (click)="changeTab('income')" [class.opacity-100]="selectedTab === 'income'"
          [class.opacity-50]="selectedTab !== 'income'" class="tab transition-opacity">Incoming Bills </a>
      </li>
      <li class="">
        <a href="javascript:void(0);" (click)="changeTab('transactions')"
          [class.opacity-100]="selectedTab === 'transactions'" [class.opacity-50]="selectedTab !== 'transactions'"
          class="tab transition-opacity">Transactions </a>
      </li>
    </ul>
    <money-selector />
  </nav>

  <div class="tabs h-full">
    <div id="balance" class="transition-all h-full"
      [class]="tab() === 'balance' ? 'block slide-in' : 'hidden slide-out'">
      <my-balance [data]="balance()" [transactions]="transactions()" [incomes]="incomes()" />


    </div>
    <div id="income" class="px-0" [class]="tab() === 'income' ? 'block slide-in' : 'hidden slide-out'">
      UpcomingBills
    </div>
    <div id="transactions" class="px-0" [class]="tab() === 'transactions' ? 'block slide-in' : 'hidden slide-out'">
      @defer {
      <transactions [transactions]="transactions()" />
      } @placeholder {
      <fallback />
      }
    </div>
  </div>

</dashboard-layout>